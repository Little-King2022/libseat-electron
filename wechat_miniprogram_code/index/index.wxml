<!-- index.wxml -->

<t-navbar title="çº¦ä¸ªåº§ä½" class="navbar">
    
</t-navbar>

<!-- æ¶ˆæ¯å¼¹çª— -->
<t-message id="t-message" class="home-message" />

<view class="page">
    <!-- ç™»é™†æç¤ºpopup -->
    <t-popup visible="{{isPopupHidden}}" bind:visible-change="onPopupVisibleChange" placement="bottom" close-on-overlay-click close-btn>
        <view class="popup" style="text-align: left;">
            <view style="font-size: 36rpx;margin-bottom: 20rpx;"><text decode="{{true}}">

                    HiğŸ‘‹ æ­¤åŠŸèƒ½éœ€è¦<text class="highlight-text">ç™»å½•</text>
                </text></view>
            <view>
                <t-button bind:tap="jumpToLogin" theme="light" size="large" style="font-size: 40rpx;" block icon="gesture-click">ç‚¹æ­¤ç™»å½•</t-button>
            </view>
        </view>
    </t-popup>
    <!-- æ ¡å›­è®¤è¯æç¤ºpopup -->
    <t-popup visible="{{isVipPopupHidden}}" bind:visible-change="onVIPPopupVisibleChange" placement="bottom" close-on-overlay-click close-btn>
        <view class="popup" style="text-align: left;">
            <view style="font-size: 36rpx;margin-bottom: 20rpx;"><text decode="{{true}}">

                    HiğŸ‘‹ æ­¤åŠŸèƒ½ä»…å¯¹<text class="highlight-text">æ ¡å›­è®¤è¯ç”¨æˆ·å¼€æ”¾</text>
                </text>
            </view>
            <view>
                <t-button bind:tap="showHelpInfo" theme="light" size="large" style="font-size: 40rpx;" block icon="gesture-click">è”ç³»å®¢æœ</t-button>
            </view>
        </view>
    </t-popup>
    <!-- é¦–é¡µView -->
    <view id="home" hidden="{{isHomeHidden}}" style="height: 100%;">
        <view class="input-title">åº§ä½æŸ¥è¯¢</view>
        <view class="input-tips">åº§ä½ç­¾åˆ°ã€æŸ¥è¯¢åº§ä½ä½¿ç”¨è®°å½•ã€å½“å‰ä½¿ç”¨è€…</view>
        <view class="home-input">
            <t-input bind:change="bindSeatInput" confirm-type="search" placeholder="è¯·è¾“å…¥åä¸‰ä½æ•°å­—" borderless="true" clearable style="{{home_input_style}}" align="left" label="åº§ä½ç¼–å·:" />
        </view>
        <view class="home-picker" style="width: 70%; text-align: center; margin: 0 auto;" hidden="{{isSeatPickerHidden}}">
            <t-cell-group theme="card" bordered="true">
                <block wx:for="{{seatList}}" wx:key="index">
                    <t-cell title="{{item}}" hover note="æŸ¥è¯¢" arrow bind:tap="bindSeatSelect" data-item="{{item}}" />
                </block>
            </t-cell-group>
        </view>

        <t-divider />

        <view class="input-title">è¯»è€…æŸ¥è¯¢</view>
        <view class="input-tips">æŒ‰å­¦å·æˆ–å§“åæŸ¥è¯¢åº§ä½é¢„çº¦è®°å½•</view>
        <view class="home-input">
            <t-input bind:change="bindStuInput" confirm-type="search" placeholder="æ”¯æŒæ¨¡ç³Šæœç´¢" borderless="true" clearable style="{{home_input_style}}" align="left" label="å­¦å·/å§“å:" />
        </view>
        <view class="home-picker" style="width: 80%; text-align: center; margin: 0 auto;" hidden="{{isStuPickerHidden}}">
            <t-cell-group theme="card" bordered="true">
                <block wx:for="{{stuList}}" wx:key="index">
                    <t-cell title="{{item}}" hover note="æŸ¥è¯¢" arrow bind:tap="bindStuSelect" data-item="{{item}}" />
                </block>
            </t-cell-group>
        </view>



        <text decode="{{true}}">
        </text>
        <t-divider content="åŠŸèƒ½åˆ—è¡¨" />
        <!-- æ•°æ®å±•ç¤ºåŒº -->
        <view class="grid_block">
            <t-grid column="{{3}}" align="center">
                <!-- ç¬¬ä¸€åˆ— -->
                <t-grid-item style="width:25%;">
                    <text style="font-weight: bold;font-size: 32rpx;text-align: center;margin: 0 0 5rpx">åœ¨é¦†äººæ•°
                    </text>
                    <text style="font-size: 25rpx;text-align: center;color:grey">å½“å‰åœ¨é¦† {{inLibCount}}
                    </text>
                    <text style="font-size: 25rpx;text-align: center;color:grey">å‰©ä½™å…¥é¦† {{remainCount}}</text>
                    <text style="font-weight: bold;font-size: 32rpx;text-align: center;margin: 35rpx 0 5rpx">é¢„çº¦äººæ•°
                    </text>
                    <text style="font-size: 25rpx;text-align: center;color:grey">å½“å‰é¢„çº¦ {{resvCount}}
                    </text>
                    <text style="font-size: 25rpx;text-align: center;color:grey">å‰©ä½™å¯ç”¨ {{freeCount}}</text>
                </t-grid-item>

                <!-- ç¬¬2åˆ—ç¯å½¢è¿›åº¦æ¡ -->
                <t-grid-item style="width:20%;">
                    <t-progress style="zoom: 55%;" class="home-progress" theme="circle" percentage="{{inLibPercentage}}" />
                    <t-progress style="zoom: 55%;margin: 50rpx 0 0" class="home-progress" theme="circle" percentage="{{resvPercentage}}" />
                </t-grid-item>
                <!-- ç¬¬3åˆ—ç¯å½¢è¿›åº¦æ¡ -->
                <t-grid-item style="width:55%;">
                    <view>
                        <text style="font-weight: bold;font-size: 32rpx;text-align: center;">å„æ¥¼å±‚åº§ä½é¢„çº¦ç‡</text>
                    </view>
                    <view style="width: 95%;">
                        <t-grid column="{{2}}" align="center">
                            <t-grid-item style="width:20%;">
                                <text style="line-height: 41rpx">2æ¥¼</text>
                                <text style="line-height: 41rpx">3æ¥¼</text>
                                <text style="line-height: 41rpx">4æ¥¼</text>
                                <text style="line-height: 41rpx">5æ¥¼</text>
                                <text style="line-height: 41rpx">6æ¥¼</text>
                                <text style="line-height: 41rpx">7æ¥¼</text>
                            </t-grid-item>
                            <t-grid-item style="width:80%;">
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_2fPer}}" style="zoom: 50%;" status="{{_2fPer > 70 ? 'error' : (_2fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_3fPer}}" style="zoom: 50%;" status="{{_3fPer > 70 ? 'error' : (_3fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_4fPer}}" style="zoom: 50%;" status="{{_4fPer > 70 ? 'error' : (_4fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_5fPer}}" style="zoom: 50%;" status="{{_5fPer > 70 ? 'error' : (_5fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_6fPer}}" style="zoom: 50%;" status="{{_6fPer > 70 ? 'error' : (_6fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                                <view style="width: 80%;margin: 11rpx;">
                                    <t-progress class="home-progress" theme="plump" percentage="{{_7fPer}}" style="zoom: 50%;" status="{{_6fPer > 70 ? 'error' : (_6fPer > 50 ? 'warning' : 'success')}}" />
                                </view>
                            </t-grid-item>
                        </t-grid>
                    </view>
                </t-grid-item>
            </t-grid>
        </view>

        <!-- <text>\n\n\n\n\n\n\n</text> -->
    </view>
    <!-- é¢„çº¦View -->
    <view id="resv" hidden="{{isResvHidden}}" style="height: 100%;">
        <!-- æ–°å¢é¢„çº¦è®¡åˆ’ -->
        <view class="input-title">æ–°å¢é¢„çº¦ä»»åŠ¡</view>
        <view class="input-tips">åœ¨æ­¤é€‰å–åº§ä½åï¼Œæ¯å¤©å°†è‡ªåŠ¨é¢„çº¦</view>
        <!-- åº§ä½é¢„é€‰åˆ—è¡¨ -->
        <view wx:if="{{showResvSelectList}}" class="resv-seat-list">
            <view>åº§ä½é¢„é€‰åˆ—è¡¨</view>
            <view>{{resvSeatNameList}}</view>
            <button bindtap="clearResvSeatList">æ¸…ç©ºé¢„é€‰åº§ä½åˆ—è¡¨</button>
        </view>
        <view class="home-input">
            <t-input bind:change="bindResvSeatInput" confirm-type="search" placeholder="è¯·è¾“å…¥åä¸‰ä½æ•°å­—" borderless="true" clearable style="{{home_input_style}}" align="left" label="åº§ä½ç¼–å·:" />
        </view>
        <view class="home-picker" style="width: 70%; text-align: center; margin: 0 auto;" hidden="{{isResvSeatPickerHidden}}">
            <t-cell-group theme="card" bordered="true">
                <block wx:for="{{resvSeatList}}" wx:key="index">
                    <t-cell title="{{item.seat_name}}" hover note="æ·»åŠ é¢„é€‰" arrow bind:tap="bindResvSeatSelect" data-item="{{item}}" />
                </block>
            </t-cell-group>
        </view>
        <!-- æäº¤ -->
        <view style="margin: 20px 20% 0;">
            <t-button bind:tap="submitResvList" theme="light" variant="outline" size="middle" style="font-size: 32rpx; margin: 0 0 5px;" block>æäº¤é¢„çº¦ä»»åŠ¡</t-button>
            <t-button bind:tap="showSeatPDF" theme="primary" variant="outline" size="middle" style="font-size: 32rpx; margin: 0 0 5px;" block>æŸ¥çœ‹åº§ä½åˆ†å¸ƒå›¾</t-button>
            <t-button wx:if="{{showNowResvDetail}}" bind:tap="deleteResvList" theme="danger" size="middle" style="font-size: 32rpx;" block>åˆ é™¤é¢„çº¦ä»»åŠ¡</t-button>
        </view>

        <!-- å†å²é¢„çº¦ä»»åŠ¡ -->
        <view wx:if="{{showNowResvDetail}}">
            <t-divider></t-divider>
            <view class="input-title">å½“å‰é¢„çº¦ä»»åŠ¡</view>
            <view class="input-tips">æ­¤å¤„æ˜¾ç¤ºæ­£åœ¨æ‰§è¡Œçš„é¢„çº¦ä»»åŠ¡</view>
            <view class="resv-detail" style="margin-bottom: 30%;">
                <view>é¢„çº¦è´¦æˆ·ï¼š<text style="color: black;">{{taskStuId}}</text></view>
                <view>åˆ›å»ºæ—¶é—´ï¼š<text style="color: black;">{{taskCreateTime}}</text></view>
                <view>é¢„çº¦æ—¶æ®µï¼š<text wx:if="{{user.resv_start_time}}" style="color: rgb(0, 0, 0);">{{user.resv_start_time + "~22:00"}}ï¼ˆå‘¨äº”20:00ç»“æŸï¼‰</text>
                    <text wx:else="{{user.resv_start_time}}" style="color: rgba(255, 0, 0, 0.808);">æœªè®¾ç½®ï¼Œé»˜è®¤ä¸º8:00ï½22:00ï¼ˆå‘¨äº”20:00ç»“æŸï¼‰</text>
                </view>
                <view style="margin-top: 5px; text-align: center;">é¢„é€‰åº§ä½åˆ—è¡¨</view>
                <view style="color: black; font-size:smaller; text-align: center;">{{taskSeatNameList}}</view>
                <view style="margin-top: 5px; text-align: center;" wx:if="{{lastResvResult}}">ä»»åŠ¡æ‰§è¡Œç»“æœ</view>
                <rich-text wx:if="{{lastResvResult}}" style="color: black; font-size:smaller; text-align: center;" nodes="{{lastResvResult}}" />
                <view style="margin-top: 5px; text-align: center;" wx:if="{{lastResvLog}}">ä»»åŠ¡æ‰§è¡Œæ—¥å¿—</view>
                <rich-text wx:if="{{lastResvLog}}" style="color: black; font-size:smaller" nodes="{{lastResvLog}}" />
            </view>
        </view>
    </view>
    <!-- æˆ‘çš„View -->
    <view id="my" hidden="{{isMyHidden}}">
        <view class="user-info" style="text-align: center;margin: 0 auto;padding: 5% 0 0;">
            <button open-type="chooseAvatar" style="background-color: rgba(0, 0, 0, 0);width: 50%;" bind:chooseavatar="onChooseAvatar">
                <t-avatar class="avatar-example" shape="round" icon="user" size="100px" link="{{avatarUrl}}" />
            </button>
            <view style="padding: 10rpx 0 40rpx;font-size: 36rpx;">
                <t-badge wx:if="{{isLogin === 'false'}}" count="æœªç™»å½•" shape="bubble" ariaRole="button" offset="{{[-20,-5]}}">
                    <input type="nickname" class="weui-input" value="{{nickName}}" placeholder="å°ç¨‹åºæ¸¸å®¢ç”¨æˆ·" />
                </t-badge>
                <t-badge wx:if="{{isLogin === 'true' && user.is_vip === false}}" count="å·²ç™»å½•ï¼Œæœªè®¤è¯" shape="bubble" ariaRole="button" offset="{{[20,-5]}}">
                    <input type="nickname" class="weui-input" value="{{user.stu_id + ' ' + user.stu_name}}" placeholder="å°ç¨‹åºæ¸¸å®¢ç”¨æˆ·" />
                </t-badge>
                <t-badge wx:if="{{isLogin === 'true' && user.is_vip === true}}" count="å­¦ç”Ÿèº«ä»½å·²è®¤è¯" shape="bubble" ariaRole="button" offset="{{[10,-10]}}">
                    <input type="nickname" class="weui-input" value="{{user.stu_id + ' ' + user.stu_name}}" placeholder="å°ç¨‹åºæ¸¸å®¢ç”¨æˆ·" />
                </t-badge>
            </view>
            <view wx:if="{{isLogin === 'true'}}">
                <t-cell-group theme="card" bordered="{{true}}" style="--td-cell-height: 85rpx !important;">
                    <t-cell title="æˆ‘çš„ä¿¡ç”¨åˆ†" note="{{user.credit}} / 600 åˆ†" leftIcon="verify" hover />
                    <t-cell wx:if="{{user.stu_phone}}" title="ç»‘å®šæ‰‹æœºå·" note="{{user.stu_phone}}" leftIcon="mobile" hover />
                    <t-cell wx:if="{{isIOS && user.is_vip}}" title="é€šçŸ¥æ–¹å¼" note="iOSæ¨é€æœåŠ¡" leftIcon="notification" hover />
                    <t-cell wx:if="{{!isIOS && user.is_vip}}" title="é€šçŸ¥æ–¹å¼" note="æš‚æ— å¯ç”¨é€šçŸ¥æ–¹å¼" leftIcon="notification" hover />
                    <t-cell wx:if="{{isIOS && user.is_vip}}" bind:click="jumpToSubscribeNotifi" title="ç»‘å®šiOSæ¨é€" note="{{user.bark_token?'å·²ç»‘å®š':'æœªç»‘å®š'}}" leftIcon="logo-apple" hover arrow />
                    <t-cell wx:if="{{user.is_vip}}" bind:click="jumpToSetResvDuration" title="è®¾ç½®é¢„çº¦æ—¶æ®µ" note="{{user.resv_start_time?user.resv_start_time + '~22:00':'æš‚æœªè®¾ç½®'}}" leftIcon="time" hover arrow />
                    <t-cell wx:if="{{user.is_vip}}" bind:click="showComment" title="æ±‚å¥½è¯„ğŸ¤—" leftIcon="thumb-up" hover arrow />
                    <t-cell bind:click="showHelpInfo" title="å¸¸è§é—®é¢˜æŒ‡å—" leftIcon="questionnaire" hover arrow />
                </t-cell-group>
            </view>
        </view>

        <!-- ç™»å½•æ¡† -->
        <view class="login-box">
            <!-- æœªç™»å½• -->
            <view wx:if="{{isLogin === 'false'}}">
                <view style="padding: 10rpx 40rpx 10rpx;font-size: 38rpx;">HiğŸ‘‹ è¯·é€‰æ‹©<text class="highlight-text">ç™»å½•æ–¹å¼</text>ï¼š</view>
                <t-tabs defaultValue="{{0}}" bind:click="onLoginTabsClick" t-class="custom-tabs" style="padding: 0 0 30rpx;">
                    <t-tab-panel label="å¾®ä¿¡ä¸€é”®ç™»å½•" value="0" />
                    <t-tab-panel label="å·²ç»‘å®šæ‰‹æœºå·" value="1" />
                    <t-tab-panel label="å›¾ä¹¦é¦†è´¦å·" value="2" />
                </t-tabs>
                <view hidden="{{loginType0}}">
                    <!-- ç™»å½•æ–¹å¼0:å¾®ä¿¡ä¸€é”®ç™»å½• -->
                    <view style="margin: 0 20% 5rpx;">
                        <t-button bind:tap="login" theme="light" size="large" style="font-size: 46rpx;" block>å¾®ä¿¡ä¸€é”®ç™»å½•</t-button>
                    </view>
                    <view style="margin: 10rpx 0;font-size: 28rpx;text-align: center;color:grey">è‹¥æ‚¨æ˜¯å°ç¨‹åº<text class="highlight-text">æ–°ç”¨æˆ·</text>ï¼Œè¯·å…ˆé€‰æ‹©å…¶ä»–ç™»å½•æ–¹å¼</view>
                </view>
                <view hidden="{{loginType1}}">
                    <!-- ç™»å½•æ–¹å¼1:æ‰‹æœºå·ç™»å½• -->
                    <view style="margin: 0 40rpx;">
                        <t-input maxcharacter="12" style="border: 3rpx solid rgba(220,220,220,1);border-radius: 16rpx;height:35rpx;margin: 10rpx 0 20rpx;" prefixIcon="user" label="å­¦å·" placeholder="è¯·è¾“å…¥å·²ç»‘å®šçš„å­¦å·" suffixIcon="{{checkLoginIdStatus}}" bind:blur="checkLoginId" tips="{{checkLoginIdTips}}" value="{{stu_id}}" clearable />
                        <t-input maxcharacter="12" style="border: 3rpx solid rgba(220,220,220,1);border-radius: 16rpx;height:35rpx;margin: 20rpx 0 10rpx;" prefixIcon="mobile" label="æ‰‹æœº" placeholder="è¯·è¾“å…¥å·²ç»‘å®šçš„æ‰‹æœºå·ç " suffixIcon="{{checkLoginPhoneStatus}}" bind:blur="checkLoginPhone" tips="{{checkLoginPhoneTips}}" value="{{stu_phone}}" clearable />
                    </view>
                </view>
                <view hidden="{{loginType2}}">
                    <!-- ç™»å½•æ–¹å¼2:å¯†ç ç™»å½• -->
                    <view style="margin: 0 40rpx;">
                        <t-input maxcharacter="12" style="border: 3rpx solid rgba(220,220,220,1);border-radius: 16rpx;height:35rpx;margin: 10rpx 0 20rpx;" prefixIcon="user" label="å­¦å·" placeholder="è¯·è¾“å…¥å­¦å·" suffixIcon="{{checkLoginIdStatus}}" bind:blur="checkLoginId" tips="{{checkLoginIdTips}}" value="{{stu_id}}" clearable />
                        <t-input maxcharacter="30" style="border: 3rpx solid rgba(220,220,220,1);border-radius: 16rpx;height:35rpx;margin: 20rpx 0 10rpx;" prefixIcon="lock-on" label="å¯†ç " placeholder="è¯·è¾“å…¥å¯†ç " suffixIcon="{{checkLoginPwdStatus}}" bind:blur="checkLoginPwd" tips="{{checkLoginPwdTips}}" value="{{stu_pwd}}" clearable />
                    </view>
                </view>
                <view hidden="{{loginType1 && loginType2}}" style="margin: 20rpx 0 0;font-size: 28rpx;text-align: center;color:grey">ç™»å½•æˆåŠŸåï¼Œä¸‹æ¬¡å¯ä½¿ç”¨<text class="highlight-text">å¾®ä¿¡ä¸€é”®ç™»å½•</text></view>
                <view hidden="{{loginType1 && loginType2}}" style="margin: 15rpx 20%;">
                    <t-button bind:tap="login" theme="light" size="large" style="font-size: 46rpx;" block>ç™» å½•</t-button>
                </view>

            </view>

            <!-- å·²ç™»é™† -->
            <view wx:if="{{isLogin === 'true'}}" style="margin: 30rpx 20% 20rpx">
                <t-button bind:tap="logout" theme="danger" size="large" style="font-size: 40rpx;" block icon="gesture-click">æ³¨é”€ç™»å½•</t-button>
            </view>

        </view>

        <!-- æˆ‘çš„é¢„çº¦åˆ—è¡¨ -->
        <view wx:if="{{isLogin === 'true'}}" class="my-resv-list">
            <view style="margin: 20rpx 20% 25rpx">
                <t-button bind:tap="getMyResvList" theme="light" size="large" style="font-size: 40rpx;" block icon="file-search">å†å²é¢„çº¦è®°å½•</t-button>
            </view>
            <scroll-view hidden="{{showMyResvList}}" scroll-x scroll-y class="my-resv-list-container">
                <view class="table">
                    <view class="table-row">
                        <view class="table-cell header">åº§ä½å·</view>
                        <view class="table-cell header">çŠ¶æ€</view>
                        <view class="table-cell header">å¼€å§‹æ—¶é—´</view>
                        <view class="table-cell header">ç»“æŸæ—¶é—´</view>
                        <view class="table-cell header">åˆ›å»ºæ—¶é—´</view>
                        <view class="table-cell header">æ“ä½œè®°å½•</view>
                    </view>
                    <!-- ä½¿ç”¨wx:forå¾ªç¯éå†æ•°æ®å¹¶æ¸²æŸ“åˆ°è¡¨æ ¼ä¸­ -->
                    <block wx:for="{{myResvList}}" wx:key="index">
                        <view class="table-row">
                            <view class="table-cell">{{item.dev_name}}</view>
                            <view class="table-cell" style="color: {{utils.resvStatusColor(item.resv_status)}};">{{utils.resvStatus(item.resv_status)}}</view>
                            <view class="table-cell">{{item.resv_begin_time}}</view>
                            <view class="table-cell">{{item.resv_end_time}}</view>
                            <view class="table-cell">{{item.resv_check_time}}</view>
                            <view class="table-cell">
                                <t-button class="button" theme="light" variant="outline" custom-dataset="{{item.resv_id}}" bind:tap="getDetail">æŸ¥çœ‹</t-button>
                            </view>
                        </view>
                    </block>
                </view>

            </scroll-view>
            <t-dialog visible="{{showResvDetail}}" class="resv_detail" prevent-scroll-through="true" cancel-btn="å…³é—­" bind:cancel="closeResvDetail">
                <view slot="middle" class="my-resv-list-container">
                    <scroll-view scroll-x class="detail-content">
                        <view class="detail-table">
                            <view class="table-row">
                                <view class="table-cell header">åº§ä½å·</view>
                                <view class="table-cell header">æ“ä½œæ—¶é—´</view>
                                <view class="table-cell header">æ“ä½œç±»å‹</view>
                                <view class="table-cell header">æ“ä½œè®¾å¤‡</view>
                            </view>
                            <!-- ä½¿ç”¨wx:forå¾ªç¯éå†æ•°æ®å¹¶æ¸²æŸ“åˆ°è¡¨æ ¼ä¸­ -->
                            <block wx:for="{{resvDetailList}}" wx:key="index">
                                <view class="table-row">
                                    <view class="table-cell">{{item.devName}}</view>
                                    <view class="table-cell">{{utils.timestampToTime(item.createTime)}}</view>
                                    <view class="table-cell">{{utils.optionType(item.kind)}}</view>
                                    <view class="table-cell">{{utils.optionDev(item.consoleKind)}}</view>
                                </view>
                            </block>
                        </view>
                    </scroll-view>
                </view>
            </t-dialog>

        </view>


        <view style="text-align: center;color: rgb(165, 165, 165);font-size: 18rpx;padding:50rpx 0 40rpx;">
            <view>{{version}}</view>
            <view>è‹ICPå¤‡2023036460å·-1X</view>
        </view>
        

    </view>

</view>
<!-- åº•éƒ¨TabBar -->
<view>
    <t-tab-bar class="index-tab-bar" value="{{currentPage}}" bindchange="changePages" shape="round" theme="tag" split="true">
        <t-tab-bar-item value="home" icon="home" ariaLabel="é¦–é¡µ">é¦–é¡µ</t-tab-bar-item>
        <t-tab-bar-item value="resv" icon="assignment-checked" ariaLabel="è‡ªåŠ¨é¢„çº¦">è‡ªåŠ¨é¢„çº¦</t-tab-bar-item>
        <t-tab-bar-item value="my" icon="user" ariaLabel="æˆ‘çš„">æˆ‘çš„</t-tab-bar-item>
    </t-tab-bar>
</view>

<wxs module="utils">
    function resvStatus(type) {
        switch (parseInt(type)) {
            case 1027:
                return "é¢„çº¦æˆåŠŸ æœªå¼€å§‹";
            case 1217:
            case 5313:
                return "å·²ç»“æŸ";
            case 1093:
                return "ä½¿ç”¨ä¸­";
            case 3141:
                return "æš‚ç¦»ä¸­";
            case 1029:
                return "å·²å¼€å§‹ï¼Œè¯·åœ¨30åˆ†é’Ÿå†…ç­¾åˆ°ï¼";
            case 1153:
            case 1233:
            case 1169:
            case 5265:
            case 7377:
            case 5249:
                return "å·²è¿çº¦";
            default:
                return "æœªçŸ¥çŠ¶æ€";
        }
    }

    function resvStatusColor(type) {
        switch (parseInt(type)) {
            case 1027:
                return "orange";
            case 1217:
            case 5313:
                return "gray";
            case 1093:
                return "green";
            case 3141:
                return "blue";
            case 1029:
                return "red";
            case 1153:
            case 1233:
            case 1169:
            case 5265:
            case 7377:
            case 5249:
                return "red";
            default:
                return "black";
        }
    }
    function timestampToTime(timestamp) {
        var date = getDate(timestamp);
        var Y = date.getFullYear().toString().substring(2) + '-';
        var M = (date.getMonth() + 1 < 10 ? '0' : '') + (date.getMonth() + 1) + '-';
        var D = (date.getDate() < 10 ? '0' : '') + date.getDate() + ' ';
        var h = (date.getHours() < 10 ? '0' : '') + date.getHours() + ':';
        var m = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes() + ':';
        var s = (date.getSeconds() < 10 ? '0' : '') + date.getSeconds();
        return Y + M + D + h + m + s;
    }
    function optionType(type) {
        switch (parseInt(type)) {
            case 1:
                return "é¢„çº¦æˆåŠŸ";
            case 2:
                return "å·²ç”Ÿæ•ˆ";
            case 4:
                return "å·²ç­¾åˆ°";
            case 8:
                return "æš‚ç¦»";
            case 16:
                return "æš‚ç¦»è¿”å›";
            case 32:
                return "å·²ç»“æŸ";
            case 64:
                return "é¢„çº¦ç»“æŸåæ“ä½œ";
            case 128:
                return "å·²è¿çº¦";
            default:
                return "æœªçŸ¥çŠ¶æ€";
        }
    }
    function optionDev(dev) {
        switch (parseInt(dev)) {
            case 1:
                return "ç³»ç»Ÿ";
            case 2:
                return "äºŒç»´ç ";
            case 4:
                return "æ‰‹æœº";
            case 8:
                return "é—¸æœº";
            case 16:
                return "ç”µè„‘";
            case 32:
                return "ç°åœºç»ˆç«¯";
            case 64:
                return "ç®¡ç†å‘˜";
            default:
                return "æœªçŸ¥ç±»å‹";
        }
    }

    module.exports = {
        timestampToTime: timestampToTime,
        optionType: optionType,
        optionDev: optionDev,
        resvStatus: resvStatus,
        resvStatusColor: resvStatusColor
    }
</wxs>